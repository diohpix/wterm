# WTerm - Rust 터미널 에뮬레이터

egui와 vte를 이용해 Rust로 만든 크로스 플랫폼 터미널 에뮬레이터입니다.

## 특징

- **반응형 터미널**: 윈도우 크기 변경 시 터미널 크기 자동 조절
- **실시간 크기 정보**: 현재 터미널 크기와 윈도우 크기를 실시간으로 표시
- **최소/최대 크기 제한**: 터미널이 너무 작아지거나 커지지 않도록 제한
- **폰트 기반 계산**: monospace 폰트 크기를 기반으로 정확한 행/열 계산
- **완전한 VTE 지원**: CSI 시퀀스를 통한 화면 클리어, 커서 이동 등 지원
- **Form Feed 처리**: Ctrl+L 키와 \x0c 문자로 화면 클리어
- **내장 D2Coding 폰트**: 한글 코딩에 최적화된 D2Coding 폰트를 11pt 크기로 사용
- **폰트 설치 불필요**: D2Coding 폰트가 프로젝트에 직접 포함되어 별도 설치 없이 사용 가능
- **스마트 폰트 fallback**: egui의 기본 폰트 시스템과 연동하여 안정적인 폰트 렌더링
- **완벽한 한글 지원**: UTF-8 환경 설정으로 한글 입출력 완벽 지원
- **자동 스크롤**: 커서 위치 추적 및 자동 스크롤 기능
- **깔끔한 디버그**: 불필요한 CSI 시퀀스 로그 최소화

## 키보드 단축키

- **방향키**: ↑, ↓, ←, → (터미널 히스토리 및 커서 이동)
- **Ctrl+C**: 프로세스 중단
- **Ctrl+D**: EOF 전송
- **Ctrl+L**: 화면 클리어
- **Ctrl+A**: 줄 시작으로 이동
- **Ctrl+E**: 줄 끝으로 이동
- **Tab**: 자동완성
- **Enter**: 명령 실행
- **Backspace**: 문자 삭제
- **Escape**: ESC 키

## VTE 이스케이프 시퀀스 지원

### 커서 제어

- **CUP/HVP** (`ESC[H`, `ESC[f`): 커서 위치 설정
- **CUU** (`ESC[A`): 커서 위로 이동
- **CUD** (`ESC[B`): 커서 아래로 이동
- **CUF** (`ESC[C`): 커서 오른쪽으로 이동
- **CUB** (`ESC[D`): 커서 왼쪽으로 이동

### 화면 지우기

- **ED** (`ESC[J`): 화면 지우기
  - 매개변수 0: 커서부터 화면 끝까지
  - 매개변수 1: 화면 시작부터 커서까지
  - 매개변수 2: 전체 화면
  - 매개변수 3: 전체 화면 및 스크롤백
- **EL** (`ESC[K`): 줄 지우기
  - 매개변수 0: 커서부터 줄 끝까지
  - 매개변수 1: 줄 시작부터 커서까지
  - 매개변수 2: 전체 줄

### 특수 기능

- **Form Feed** (`\x0c`): 화면 클리어 및 커서 상단 이동
- **SGR** (`ESC[m`): 색상 및 스타일 (무시)
- **모드 설정** (`ESC[?h`, `ESC[?l`): 터미널 모드 제어

## 사용된 크레이트

- `eframe`: egui 기반 애플리케이션 프레임워크
- `egui`: 즉시 모드 GUI 라이브러리
- `vte`: 터미널 이스케이프 시퀀스 파서
- `portable-pty`: 크로스 플랫폼 pseudoterminal
- `anyhow`: 에러 핸들링

## 빌드 및 실행

```bash
# 프로젝트 클론
git clone <repository-url>
cd wterm

# 빌드
cargo build

# 실행
cargo run
```

## 사용법

1. **프로그램 실행**: `cargo run`으로 터미널 에뮬레이터를 시작합니다
2. **터미널 사용**: 터미널 영역을 클릭하여 포커스를 주고 명령어를 입력합니다
3. **한글 사용**: UTF-8 환경이 자동 설정되어 한글 입출력이 완벽하게 지원됩니다
4. **크기 조절**: 윈도우 크기를 조절하면 터미널 크기가 자동으로 맞춰집니다
5. **키보드 단축키**: 위에 명시된 단축키들을 사용하여 터미널을 효율적으로 조작할 수 있습니다

## 시스템 요구사항

- **Rust**: 1.70 이상
- **운영체제**: Windows, macOS, Linux
- **폰트**: D2Coding 폰트가 내장되어 별도 설치 불필요

---

**한글 코딩에 최적화된 Rust 터미널 에뮬레이터** 🚀
# wterm
